{"ast":null,"code":"var _jsxFileName = \"/Users/apple/Desktop/mapbox/src/index.js\";\nimport React, { useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport mapboxgl from 'mapbox-gl';\nimport { Marker } from 'mapbox-gl';\nimport { Popup } from 'mapbox-gl';\nmapboxgl.accessToken = 'pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4M29iazA2Z2gycXA4N2pmbDZmangifQ.-g_vE53SD2WrJ6tFX7QHmA';\n\nclass Application extends React.Component {\n  constructor(props) {\n    super(props);\n    this.mapRef = React.createRef();\n    this.state = {\n      lng: 109,\n      lat: 10,\n      zoom: 7\n    };\n    this.getPosition = this.getPosition.bind(this);\n  }\n\n  getPosition() {\n    var getPosition = function (options) {\n      return new Promise(function (resolve, reject) {\n        // navigator.geolocation.getCurrentPosition(resolve, reject, options);\n        resolve();\n      });\n    };\n\n    getPosition().then(position => {\n      // 10.7781128,106.6532558\n      this.setState({\n        lng: 10.7781128.toFixed(4),\n        lat: 106.6532558.toFixed(4),\n        zoom: 12\n      });\n      console.log(\"dfdff\");\n    }).catch(err => {\n      console.error(err.message);\n    });\n  }\n\n  componentWillMount() {\n    console.log(\"inside\");\n    this.getPosition(); //console.log(pos);\n    // this.setState({\n    //   lng: pos.long.toFixed(4),\n    //   lat: pos.lat.toFixed(4),\n    //   zoom: 5\n    // });\n  }\n\n  componentDidMount() {\n    console.log(\"later\");\n    const {\n      lng,\n      lat,\n      zoom\n    } = this.state;\n    const map = new mapboxgl.Map({\n      container: this.mapRef.current,\n      style: 'mapbox://styles/mapbox/streets-v9',\n      center: [lng, lat],\n      zoom\n    });\n    map.on('move', () => {\n      const {\n        lng,\n        lat\n      } = map.getCenter();\n      this.setState({\n        lng: lng.toFixed(4),\n        lat: lat.toFixed(4),\n        zoom: map.getZoom().toFixed(2)\n      });\n    });\n    map.on('click', function (e) {\n      // The event object (e) contains information like the\n      // coordinates of the point on the map that was clicked.\n      console.log('A click event has occurred at ' + e.lngLat.toString());\n    });\n    var marker = new mapboxgl.Marker().setLngLat([108, 10]).setPopup(new mapboxgl.Popup({\n      offset: 0\n    }) // add popups\n    .setHTML('<h3>' + \"Hello\" + '</h3><p>' + \"the other side\" + '</p>')).addTo(map);\n  }\n\n  render() {\n    const {\n      lng,\n      lat,\n      zoom\n    } = this.state;\n    console.log(\"beign\");\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"inline-block absolute top left mt12 ml12 bg-darken75 color-white z1 py6 px12 round-full txt-s txt-bold\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 11\n      }\n    }, `Longitude: ${lng} Latitude: ${lat} Zoom: ${zoom}`)), /*#__PURE__*/React.createElement(\"div\", {\n      ref: this.mapRef,\n      className: \"absolute top right left bottom\",\n      style: {\n        height: '800px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\n\nReactDOM.render( /*#__PURE__*/React.createElement(Application, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 108,\n    columnNumber: 17\n  }\n}), document.getElementById('root'));","map":{"version":3,"sources":["/Users/apple/Desktop/mapbox/src/index.js"],"names":["React","useState","ReactDOM","mapboxgl","Marker","Popup","accessToken","Application","Component","constructor","props","mapRef","createRef","state","lng","lat","zoom","getPosition","bind","options","Promise","resolve","reject","then","position","setState","toFixed","console","log","catch","err","error","message","componentWillMount","componentDidMount","map","Map","container","current","style","center","on","getCenter","getZoom","e","lngLat","toString","marker","setLngLat","setPopup","offset","setHTML","addTo","render","height","document","getElementById"],"mappings":"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","sourcesContent":["import React , {useState}from 'react'\nimport ReactDOM from 'react-dom'\nimport mapboxgl from 'mapbox-gl'\nimport {Marker} from 'mapbox-gl'\nimport {Popup} from 'mapbox-gl'\n\n\nmapboxgl.accessToken = 'pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4M29iazA2Z2gycXA4N2pmbDZmangifQ.-g_vE53SD2WrJ6tFX7QHmA';\n\nclass Application extends React.Component {\n  mapRef = React.createRef();\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      lng: 109,\n      lat: 10,\n      zoom: 7\n    };\n    this.getPosition = this.getPosition.bind(this)\n  }\n  getPosition(){\n    var getPosition = function (options) {\n      return new Promise(function (resolve, reject) {\n       // navigator.geolocation.getCurrentPosition(resolve, reject, options);\n       resolve()\n      });\n    }\n    \n    getPosition()\n      .then((position) => {\n       // 10.7781128,106.6532558\n        this.setState({\n          lng: 10.7781128.toFixed(4),\n          lat: 106.6532558.toFixed(4),\n          zoom: 12\n        });\n        console.log(\"dfdff\")\n        \n      })\n      .catch((err) => {\n        console.error(err.message);\n      });\n  }\n  componentWillMount(){\n    console.log(\"inside\");\n   this.getPosition()\n    //console.log(pos);\n    // this.setState({\n    //   lng: pos.long.toFixed(4),\n    //   lat: pos.lat.toFixed(4),\n    //   zoom: 5\n    // });\n  }\n  componentDidMount() {\n    console.log(\"later\");\n    const { lng, lat, zoom } = this.state;\n   \n    \n\n    const map = new mapboxgl.Map({\n      container: this.mapRef.current,\n      style: 'mapbox://styles/mapbox/streets-v9',\n      center: [lng, lat],\n      zoom\n    });\n\n    map.on('move', () => {\n      const { lng, lat } = map.getCenter();\n\n      this.setState({\n        lng: lng.toFixed(4),\n        lat: lat.toFixed(4),\n        zoom: map.getZoom().toFixed(2)\n      });\n    });\n\n    map.on('click', function(e) {\n      // The event object (e) contains information like the\n      // coordinates of the point on the map that was clicked.\n      console.log('A click event has occurred at ' + e.lngLat.toString());\n    });\n    \n    var marker = new mapboxgl.Marker()\n      .setLngLat([108,10])\n      .setPopup(new mapboxgl.Popup({ offset: 0 }) // add popups\n      .setHTML('<h3>' + \"Hello\" + '</h3><p>' + \"the other side\" + '</p>'))\n      .addTo(map);\n     \n  }\n\n  render() {\n    const { lng, lat, zoom } = this.state;\n    console.log(\"beign\");\n\n    return (\n      <div>\n        <div className=\"inline-block absolute top left mt12 ml12 bg-darken75 color-white z1 py6 px12 round-full txt-s txt-bold\">\n          <div>{`Longitude: ${lng} Latitude: ${lat} Zoom: ${zoom}`}</div>\n        </div>\n        <div ref={this.mapRef} className=\"absolute top right left bottom\" style={{height:'800px'}} />\n       \n      </div>\n    );\n  }\n}\n\nReactDOM.render(<Application />, document.getElementById('root'));\n"]},"metadata":{},"sourceType":"module"}